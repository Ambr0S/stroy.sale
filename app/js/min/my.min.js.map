{"version":3,"sources":["my.js"],"names":["component1","require","Vue","component","props","template","data","myjson","catalogStatus","activestatus","catalogList","katya","search","methods","loadJSON","self","axios","get","then","response","err","console","log","computed","salecost","kat","filteredName","json","filter","i","item","name","toLowerCase","replace","match","filters","deleteLastSymb","val","k","undefined","slice","toFixed","checkoutText","length","join","withCostm","withImage","includes","vm","el","catalogArray","id","jsonfile","sale","catalogActive","mounted","firstControllers","document","querySelector","classList","add","onCatalogChange","e","target","dataset","previousElementSibling","allControllers","querySelectorAll","dir","value","forEach","remove"],"mappings":"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","file":"my.min.js","sourcesContent":["var component1 = require('./vue/component1.vue')\r\n\r\n\r\nVue.component('catalog', {\r\n    props : ['activestatus','json','kat'],\r\n    template : '#cmp-catalog',\r\n    data : function() {\r\n        return {\r\n            myjson : [\r\n                    {\r\n                    \"name\": \"Полипропилен вспененный для бань и саун /фольга/ (0,5мм /15х1,2м./18м2)\",\r\n                    \"price\": \"2850-\",\r\n                    \"number\": \"Арт: 11072281\",\r\n                    \"image\": \"//524578.ssl.1c-bitrix-cdn.ru/upload/resize_cache/iblock/716/170_170_0/716b437eb91f63cf39a8ae3ac5a1714b.jpeg?14976644288298\",\r\n                    \"text\": []\r\n                },\r\n                {\r\n                    \"name\": \"Геозащита 2000х5000 мм 200 г/м2\",\r\n                    \"price\": \"1580-\",\r\n                    \"number\": \"Арт: 11071761\",\r\n                    \"image\": \"//524578.ssl.1c-bitrix-cdn.ru/upload/resize_cache/iblock/0bf/170_170_0/0bf64e6ebbf424efe7894383edd31c51.jpeg?14976652103299\",\r\n                    \"text\": [\r\n                        \"Длина: 1000\",\r\n                        \"Ширина: 1200\"\r\n                    ]\r\n                }\r\n            ],\r\n            catalogStatus : this.activestatus,\r\n            catalogList : 'http://localhost:3000/json/first.json',\r\n            katya : '123',\r\n            search : '',\r\n\r\n        }\r\n    },\r\n    methods : {\r\n        loadJSON : function() {\r\n            var self = this;\r\n            axios.get(this.catalogList)\r\n            .then(function(response) {\r\n                    self.myjson = response.data;\r\n                }, \r\n                function(err) {\r\n                    console.log(err)\r\n                }\r\n            )     \r\n        }\r\n    },\r\n    computed : {\r\n        salecost : function() {\r\n            return this.kat;\r\n        },\r\n        filteredName: function(){\r\n            return this.json.filter((i) => {\r\n                let item = i;\r\n                //item.name.toLowerCase();\r\n                return item.name.toLowerCase().replace('ё','е').match(this.search.toLowerCase().replace('ё','е'))\r\n            })\r\n        }\r\n    },\r\n    filters: {\r\n        deleteLastSymb(val,k) {\r\n            return (k !== undefined) ? ((val.slice(0,-1)) * k).toFixed(0) : (val.slice(0,-1)) ;\r\n        },\r\n        checkoutText(val) {              \r\n            return (val.length != 0) ? val.join('  ||  ') : 'Характеристик нет'\r\n        },\r\n        withCostm(val,k) {\r\n            return (val) ? 'Цена за м2 - ' + val * k + 'руб.' : '';\r\n        },\r\n        withImage(val) {\r\n            if (val.includes('no_photo')) { return 'img/no_image.png'; }\r\n            return val;\r\n        }\r\n    }\r\n})\r\n\r\n\r\nvar vm = new Vue({\r\n    el: '#test',\r\n    data: function() {\r\n        return {          \r\n            catalogArray : [\r\n                {\r\n                    id: 0,\r\n                    name: 'Весь каталог',\r\n                    jsonfile: 'http://localhost:3000/json/first.json',\r\n                    sale: 0.25\r\n                },\r\n                {\r\n                    id: 1,\r\n                    name: 'Первый каталог',\r\n                    jsonfile: 'http://localhost:3000/json/second.json',\r\n                    sale: 0.3\r\n                },\r\n                {\r\n                    id: 2,\r\n                    name: 'Второй каталог',\r\n                    jsonfile: 'http://localhost:3000/json/third.json',\r\n                    sale: 0.25\r\n                }\r\n            ],\r\n            catalogActive: {\r\n                id: 0,\r\n                name : 'Весь каталог',\r\n                jsonfile :'http://localhost:3000/json/first.json',\r\n                sale : 0.25\r\n            },\r\n            catalogStatus: {\r\n                id : 0,\r\n                name : 'Весь каталог',\r\n                jsonfile : 'http://localhost:3000/json/first.json'\r\n            },\r\n            myjson: [],\r\n            catalogList : 'http://localhost:3000/json/first.json'\r\n        }\r\n    },\r\n    mounted: function() {\r\n        let firstControllers = document.querySelector('.controllers-button__link:first-child');\r\n        \r\n        firstControllers.classList.add('active');\r\n\r\n        this.catalogList = this.catalogStatus.jsonfile;\r\n        this.loadJSON();\r\n    },\r\n    computed: {\r\n\r\n    },\r\n    methods: {\r\n        onCatalogChange: function(e) {\r\n            let target = e.target;\r\n            let id = target.dataset.id || target.previousElementSibling.dataset.id;\r\n            let allControllers = document.querySelectorAll('.catalog__controllers .controllers-button__link');\r\n            let search = document.querySelector('#search__input');\r\n            console.log(search)\r\n            console.dir(search)\r\n            document.querySelector('#search__input').value = '';\r\n            console.log(search)\r\n            console.dir(search)             \r\n\r\n            // Стили контроллеров\r\n            allControllers.forEach((i)=>i.classList.remove('active'))\r\n            target.classList.add('active');\r\n\r\n            this.catalogActive.id       = this.catalogArray[id].id;\r\n            this.catalogActive.name     = this.catalogArray[id].name;\r\n            this.catalogActive.jsonfile = this.catalogArray[id].jsonfile;\r\n            this.catalogActive.sale     = this.catalogArray[id].sale;\r\n            this.catalogList            = this.catalogActive.jsonfile;\r\n            this.loadJSON();\r\n        },\r\n\r\n        loadJSON : function() {\r\n            var self = this;\r\n            axios.get(this.catalogList)\r\n            .then(function(response) {\r\n                    self.myjson = response.data;\r\n                }, \r\n                function(err) {\r\n                    console.log(err)\r\n                }\r\n            )     \r\n        }\r\n    }\r\n\r\n})"]}